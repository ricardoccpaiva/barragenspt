<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <%= csrf_meta_tag() %>
    <%= live_title_tag assigns[:page_title] || "barragens.pt" %>
      <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bulma-extensions@6.2.4/dist/css/bulma-extensions.min.css">
      <link phx-track-static rel="stylesheet" href={Routes.static_path(@conn, "/assets/app.css" )} />
      <script defer phx-track-static type="text/javascript" src={Routes.static_path(@conn, "/assets/app.js" )}></script>
      <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
      <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
      <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/bulma-quickview@2.0.0/dist/js/bulma-quickview.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/antv-g2/4.1.49/g2.min.js"></script>
      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-5ECR8CXBPZ"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-5ECR8CXBPZ');        
      </script>
</head>

<body>
  <style>
    @font-face {
      font-family: orangeJuice;
      src: url('../fonts/FredokaOne-Regular.ttf');
    }

    .map-overlay {
      position: absolute;
      width: 200px;
      height: 42px;
      top: 10px;
      margin-left: 20px;
      background-image: url("../images/dam_3.png");
      background-repeat: no-repeat;
      background-size: 48px;
    }
  </style>
  <%= @inner_content %>
    <div style="height: 100%;">
      <input id="mapbox_token" type="hidden" value={System.get_env("MAPBOX_API_TOKEN")} />
      <div id='map' style="height: 100%;" phx-update="ignore"></div>

      <div class="map-overlay top">
        <a href="/"><span class="logo-text">BARRAGENS.PT</span></a>
        <a data-phx-link='patch' data-phx-link-state='push' href="/basin/23" id="basin_detail_btn"
          style="display:none"></a>
        <a id="quick_panel_button" style="display:none" data-show="quickview" data-target="quickviewDefault"></a>
      </div>

      <div class="credits" style="display: none;">
        <br />
        <a href="https://snirh.apambiente.pt/">Dados obtidos através do portal SNIRH</a>
        • <a href="https://github.com/ricardoccpaiva/barragenspt">Código fonte @ <i class='fa-brands fa-github'></i></a>
        • <a href="https://www.flaticon.com/free-icons/dam" title="dam icons">Logo by Freepik</a>
      </div>

      <div class="legend">
        <p><b>% Armazenamento</b></p>
        <div><span style="background-color: #ff675c"></span>0 - 20</div>
        <div><span style="background-color: #ffc34a"></span>21 - 40</div>
        <div><span style="background-color: #ffe99c"></span>41 - 50</div>
        <div><span style="background-color: #c2faaa"></span>51 - 60</div>
        <div><span style="background-color: #a6d8ff"></span>61 - 80</div>
        <div><span style="background-color: #1c9dff"></span>81 - 100</div>
      </div>
      <div class="credits">
        <span class="tag is-warning">BETA</span>
        <a href="https://github.com/ricardoccpaiva/barragenspt"><i class="fab fa-github"></i></a>
      </div>
    </div>
</body>

</html>